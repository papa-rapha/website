[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Raphaël",
    "section": "",
    "text": "After 7 years at EDF R&D as a research engineer in data science, specialized in forecasting for energy markets and energy networks, I joined Talend as a lead data scientist to develop ML tools and features in Talend’s product. I’m about to join a new company and start a new position. Stay tuned.\nI also enjoy teaching when I can. I did teach in the past at Ensai, CEPE, Dauphine University, Nantes Université."
  },
  {
    "objectID": "about.html#au-boulot",
    "href": "about.html#au-boulot",
    "title": "Raphaël - Un stateux à roulettes",
    "section": "Au boulot",
    "text": "Au boulot"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Raphaël",
    "section": "",
    "text": "Date\n\n\nTitle\n\n\nAuthor\n\n\n\n\n\n\nMar 30, 2023\n\n\nWhat was the best Rivals manager team possible? A knapsack problem.\n\n\nRaphaël\n\n\n\n\nMar 24, 2023\n\n\nWelcome To My Blog ! ‘R avancé & introduction à Git’\n\n\nRaphaël\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog ! ‘R avancé & introduction à Git’",
    "section": "",
    "text": "I’ve been pleased to teach a R course at the university of Nantes this winter untitled ‘R avancé & introduction à Git’. You will be able to find the course materials there. The lesson is in French. It was a good exercise to build the materials from scratch, with the help of the awesome resources from posit team, such as R advanced or R packages. I got heavily inspired by Andrew Heiss teaching material to organize the class content online. Hopefully, I’ll have time to improve and personalize the styling for next year.\nThe final report goal was to build a personal blogging website, using CI-CD, github and reproducible science tools from the R environment to write articles efficiently. I had to do it myself, so here I am."
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "This is a post with executable code."
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html",
    "href": "posts/03-2023-velogames-knapsack/index.html",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "",
    "text": "Knapsack problem\nSo, to summarize, our problem can be formulated as follow:\n\nGiven a total number of credit of 225,\nAnd a constraint on the number of team members which has to be between 30 to 35\n\nHow can we maximize the number of points collected at the end of the year?\nI’m not very familiar with classical optimization problems, but it turns out that this is exactly the formulation of a Knapsack problem. The original formulation goes as follow:\n\nGiven a set of items, each with a weight and a value, determine which items to include in the collection so that the total weight is less than or equal to a given limit and the total value is as large as possible.\n\nReplace the collection by your squad, an item by a rider, the weight by the cotation of the rider, and the value by the total of points scored at the end of the season, and you almost got your Rivals’ challenge! We’ll have to add the two constraints over the ‘top league’ riders and the fact that the total number of riders is constrained too.\n\n\nCollecting data\nLet’s begin by grabbing some data for our experiment. The rivals manager website is quite old and is not necessarily at the state of the art, and there is no API available to perform the request. So let’s do a little bit of web scrapping. We’ll use rvest to do so. We’ll also use dplyr and tidyr as utility packages for data handling, and purrr for functional oriented programming functions.\nFirst function to read the riders’ results.\n\n\nScrap web page for riders’ results\n#' read results table from rivals manager website\n#' \n#' @param year Year of interest\nread_riders_results <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Classement&annee=\", year)\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays, -Place) |>\n    rename(Name = Nom, Cost = Valeurs)\n}\n\n\nSecond function to read the riders’ original cotations. It’s a bit redundant but riders who didn’t score any point have to be found in this table as they do not appear in the yearly results tables above (only riders with at least 1 point do).\n\n\nScrap riders’ cotation\n#' read values table from rivals manager website\n#' \n#' @param year Year of interest\nread_riders_values <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Cotation&annee=\", year)\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays) |>\n    rename(Name = Nom, Team = Equipe, Cost = Valeurs)\n}\n\n\nThird function is necessary to grab actual results from human players:\n\n\nCollect human performances\n#' read scores from human players\n#' \n#' @param year Year of interest\nread_team_scores <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Classement&annee=\",\n                year,\n                \"&lstClassement=Managers\")\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays, -Place) |>\n    rename(Name = Nom)\n}\n\n\nLet’s now request the data for the period 2013-2022 for which we have historical data. We’ll join the results and the values table to make sure we have all the riders available at the beginning of every season.\n\n\nBind riders data for each year altogether\nmap(2013:2022, function(x) {\n  riders_results <- read_riders_results(x)\n  riders_values <- read_riders_values(x)\n  left_join(riders_values, riders_results, by = c(\"Name\", \"Cost\"))\n}) |> setNames(2013:2022) |> \n  bind_rows(.id = \"Year\") -> data_riders\n\n\nLet’s make sure we flag properly the ‘top league’ for every year in the history. Sadly, it is hard to find valid info about who was in the top ligue in the past. I tried to collect all the infortion I could on the forum, but it’s not easy to find. I think I managed to find every member of the top league, but couldn’t find the maximum cost for top league riders you were able to pick for years 2013, and 2015 to 2019. There was no constraint at all in 2020. Since it seems the cotation strategy was the same for the 2013-2019 period, I’ll make the hypothesis that the limit for top league riders was identical to the one for the year 2014, i.e. 93.\n\n\nAdd Top League and compute performance ratio (Points over Cost)\ntop_league <- list(\n  \"2013\" = c(\"Joaquin RODRIGUEZ\", \"Alberto CONTADOR\", \"Philippe GILBERT\", \n             \"Peter SAGAN\", \"Bradley WIGGINS\", \"Vincenzo NIBALI\", \"Alejandro VALVERDE\", \n             \"Edvald BOASSON HAGEN\", \"Cadel EVANS\", \"Samuel SANCHEZ\", \"Tom BOONEN\", \n             \"Fabian CANCELLARA\", \"Chris FROOME\", \"Thomas VOECKLER\", \"John DEGENKOLB\", \n             \"Andre GREIPEL\", \"Andy SCHLECK\", \"Mark CAVENDISH\", \"Rui Alberto COSTA\", \n             \"Simon GERRANS\", \"Robert GESINK\", \"Ryder HESJEDAL\", \"Tony MARTIN\", \n             \"Rigoberto URAN\"),\n  \"2014\" = c(\"Peter SAGAN\", \"Alejandro VALVERDE\", \"Joaquin RODRIGUEZ\", \"Chris FROOME\", \n             \"Vincenzo NIBALI\", \"Alberto CONTADOR\", \"Rui Alberto COSTA\", \"Nairo QUINTANA\", \n             \"Fabian CANCELLARA\", \"Philippe GILBERT\", \"Bauke MOLLEMA\", \"Mark CAVENDISH\", \n             \"Greg VAN AVERMAET\", \"Edvald BOASSON HAGEN\", \"John DEGENKOLB\", \n             \"Sylvain CHAVANEL\", \"Andre GREIPEL\", \"Sergio HENAO\", \"Daniel MORENO\", \n             \"Richie PORTE\", \"Bradley WIGGINS\"),\n  \"2015\" = c(\"Alejandro VALVERDE\", \"Peter SAGAN\", \"Alberto CONTADOR\", \"Vincenzo NIBALI\", \n             \"Chris FROOME\", \"Joaquin RODRIGUEZ\", \"John DEGENKOLB\", \"Alexander KRISTOFF\", \n             \"Michal KWIATKOWSKI\", \"Nairo QUINTANA\", \"Rui Alberto COSTA\", \n             \"Fabian CANCELLARA\", \"Philippe GILBERT\", \"Greg VAN AVERMAET\", \n             \"Bauke MOLLEMA\", \"Simon GERRANS\", \"Romain BARDET\", \"Nacer BOUHANNI\", \n             \"Arnaud DEMARE\", \"Daniel MARTIN\", \"Daniel MORENO\", \"Tejay VAN GARDEREN\"),\n  \"2016\" = c(\"Alejandro VALVERDE\", \"Alexander KRISTOFF\", \"Peter SAGAN\", \n             \"Chris FROOME\", \"Alberto CONTADOR\", \"Vincenzo NIBALI\", \"Nairo QUINTANA\", \n             \"Greg VAN AVERMAET\", \"Joaquin RODRIGUEZ\", \"John DEGENKOLB\", \"Fabio ARU\", \n             \"Michal KWIATKOWSKI\", \"Thibaut PINOT\", \"Rui Alberto COSTA\", \"Philippe GILBERT\", \n             \"Romain BARDET\", \"Tom DUMOULIN\", \"Tony GALLOPIN\", \"Michael MATTHEWS\", \n             \"Andre GREIPEL\", \"Bauke MOLLEMA\", \"Daniel MORENO\"),\n  \"2017\" = c(\"Peter SAGAN\", \"Alejandro VALVERDE\", \"Alexander KRISTOFF\", \n             \"Greg VAN AVERMAET\", \"Chris FROOME\", \"Nairo QUINTANA\", \"Alberto CONTADOR\", \n             \"Romain BARDET\", \"Vincenzo NIBALI\", \"Michael MATTHEWS\", \"Thibaut PINOT\", \n             \"Julian ALAPHILIPPE\", \"Fabio ARU\", \"Jhoan Esteban CHAVES\", \"Rui Alberto COSTA\", \n             \"Tom DUMOULIN\", \"Giacomo NIZZOLO\", \"Nacer BOUHANNI\", \"John DEGENKOLB\", \n             \"Bauke MOLLEMA\", \"Diego ULISSI\", \"Edvald BOASSON HAGEN\", \"Richie PORTE\"),\n  \"2018\" = c(\"Peter SAGAN\", \"Greg VAN AVERMAET\", \"Chris FROOME\", \"Alejandro VALVERDE\", \n             \"Alexander KRISTOFF\", \"Nairo QUINTANA\", \"Tom DUMOULIN\", \"Michael MATTHEWS\", \n             \"Vincenzo NIBALI\", \"Thibaut PINOT\", \"Romain BARDET\", \"Michal KWIATKOWSKI\", \n             \"Julian ALAPHILIPPE\", \"Fabio ARU\", \"Daniel MARTIN\", \"Nacer BOUHANNI\", \n             \"Arnaud DEMARE\", \"Philippe GILBERT\", \"Rigoberto URAN\", \"Sonny COLBRELLI\", \n             \"Andre GREIPEL\", \"Richie PORTE\", \"Diego ULISSI\", \"Ilnur ZAKARIN\"),\n  \"2019\" = c(\"Peter SAGAN\", \"Alejandro VALVERDE\", \"Greg VAN AVERMAET\", \"Julian ALAPHILIPPE\", \n             \"Chris FROOME\", \"Tom DUMOULIN\", \"Elia VIVIANI\", \"Alexander KRISTOFF\", \n             \"Michael MATTHEWS\", \"Thibaut PINOT\", \"Simon YATES\", \"Romain BARDET\", \n             \"Nairo QUINTANA\", \"Primoz ROGLIC\", \"Arnaud DEMARE\", \"Michal KWIATKOWSKI\", \n             \"Geraint THOMAS\", \"Tim WELLENS\", \"Jasper STUYVEN\", \"Sonny COLBRELLI\", \n             \"Ion IZAGIRRE\", \"Miguel Angel LOPEZ\", \"Philippe GILBERT\", \"Daniel MARTIN\", \n             \"Vincenzo NIBALI\"),\n  \"2020\" = c(\"Julian ALAPHILIPPE\", \"Primoz ROGLIC\", \"Alejandro VALVERDE\",\n             \"Peter SAGAN\", \"Greg VAN AVERMAET\", \"Egan BERNAL\", \"Jakob FUGLSANG\", \"Elia VIVIANI\",      \n             \"Alexander KRISTOFF\",\"Matteo TRENTIN\",    \n             \"Thibaut PINOT\", \"Pascal ACKERMANN\", \"Michael MATTHEWS\",  \n             \"Oliver NAESEN\", \"Tim WELLENS\", \"Tom DUMOULIN\", \"Miguel Angel LOPEZ\", \"Bauke MOLLEMA\",     \n             \"Mathieu VAN DER POEL\", \"Adam YATES\"),\n  \"2021\" = c(\"Primoz ROGLIC\", \"Julian ALAPHILIPPE\", \"Tadej POGACAR\", \"Wout VAN AERT\",\n             \"Mathieu VAN DER POEL\", \"Egan BERNAL\", \"Remco EVENEPOEL\", \"Peter SAGAN\"),\n  \"2022\" = c(\"Tadej POGACAR\", \"Wout VAN AERT\", \"Primoz ROGLIC\", \"Julian ALAPHILIPPE\",\n             \"Mathieu VAN DER POEL\", \"Egan BERNAL\", \"Sonny COLBRELLI\", \"Joao ALMEIDA\", \"Remco EVENEPOEL\", \"Adam YATES\")\n)\n\nmax_top_league <- c(`2013` = 93, `2014` = 93, `2015` = 93, `2016` = 93, `2017` = 93, \n                    `2018` = 93, `2019` = 93, `2020` = 225, `2021` = 65, `2022` = 63\n)\n\n\n# transform top-league data into a df\nmap2_vec(top_league, names(top_league),\n         ~list(mutate(tibble(Name = .x), Year = .y, TopLeague = TRUE))) |> \n  bind_rows() |> \n  right_join(data_riders, by = c(\"Name\", \"Year\")) |> \n  replace_na(list(TopLeague = FALSE)) |> \n  arrange(Year, desc(Cost)) |> \n  mutate(Ratio = round(Points/Cost, 2L)) -> data_riders\n\n\nWe now have a single data.frame will all the scores for every rider over the 2013 to 2022 period, and the information about the top ligue and the constraints which apply to it.\n\n\n\n\n\n\n\n\n\nHuman performances\nSimilarly, we can retrieve all the results for any player over the same period. Let’s display the podium for each year.\n\n\nBind human data for each year altogether\nmap(2013:2022, read_team_scores) |>\n  setNames(2013:2022) |> \n  bind_rows(.id = \"Year\") |> \n  group_by(Year) |> \n  slice_max(Points, n = 3) |> \n  mutate(Ratio = round(Points/225, 2L))-> data_teams\n\n\nWe can observe several changes in the performance scores. Several phenomenom are at stake here. Firstly, rules have changed in the way the game was played. There were more riders in the top league category and even if the budget allowed was more important, it had an impact on the way teams were made. Secondly, 2020 was different because of covid. Thirdly, some riders have become easily predictable lastly, whith Tadej Pogacar or Wout Van Aert (and a few others) being extremly dominant. It doesn’t mean that they will necessarily be in the top teams, but they are somehow safe picks as they will win a lot of rewarding races all year long.\n\n\nCode\nlibrary(ggplot2)\nlibrary(emojifont)\n\ntmp_plt <- data_teams |> \n  group_by(Year) |> \n  arrange(desc(Points)) |> \n  mutate(Rank = fontawesome('fa-trophy'),\n         color = c(\"#FFD700\", \"#C0C0C0\", \"#CD7F32\"),\n         Year = as.numeric(Year)) |> \n  ungroup()\n\nggplot(tmp_plt, aes(x = Year, y = Points, label = Rank, color = color)) +\n  geom_text(family='fontawesome-webfont', size=12) +\n  scale_color_manual(values=c(\"#C0C0C0\", \"#CD7F32\", \"#FFD700\")) +\n  scale_x_continuous(breaks = 2013:2022) +\n  theme(legend.position='none',\n        plot.title = element_text(size = 30),\n        plot.subtitle = element_text(size = 20),\n        axis.text.y = element_text(size = 20),\n        axis.title.y = element_text(size = 20),\n        axis.title.x = element_text(size = 20),\n        axis.text.x = element_text(size = 20)\n  ) +\n  ggtitle(\"Points for podium from 2013 to 2022\")\n\n\n\n\n\n\n\n\n\n\n\nBest team: Oracle\nNow, let’s try to find what could have been the best team, the one we would have chosen if we were an oracle. We will use the year 2022 as the first example. One way to solve this problem is by using linear programming. The idea is to represent the problem as a value to be maximize will respecting the different constraints. One way to do it in R is to use the lpSolve package which is an interface to the free and open source solver lpSolve.\nWe can now specify our LP problem. We want to maximize the value of our team, i.e:\n\\[\n\\max \\sum_{i=1}^N x_i\\cdot\\mathrm{Points}_i\n\\]\nwhere \\(N\\) is the number of riders in the game, \\(x_i\\) a binary variable (1 or 0) wether rider \\(i\\) is included in the team or not, and \\(\\mathrm{Points}_i\\) the total of points for rider \\(i\\) at the end of the season. We have to respect the following contraints :\n\\[\ns.t. \\sum_i x_i \\leq 35\n\\]\n\\[\n\\sum_i x_i \\geq 30\n\\]\n\\[\n\\sum_i x_i\\cdot\\mathrm{Cost}_i \\leq 225\n\\]\nand\n\\[\n\\sum_i x_i\\cdot\\mathrm{TopLeague}_i\\cdot\\mathrm{Cost}_i \\leq \\mathrm{MaxTopLeague}\n\\]\nwhere \\(Cost_i\\) is the cost of the rider \\(i\\), \\(TopLeague_i\\) indicates if the rider \\(i\\) is in the top league category and MaxTopLeague is a constant value for every year.\nNow, we can specify our LP problem. Let’s solve the problem for the whole period now. Let’s build a maximize_score function to easily compute the scores for each year.\n\n\nFunction to find the optimal team\n#' @param data A df with columns Name, Cost, Points, TopLeague\n#' @param max_top_league Maximum budget for top league riders\n#' @return A dataframe, with one row corresponding to one rider from the best team.\nmaximize_score <- function(data, max_top_league) {\n  # define obj function\n  # this corresponds to maximizing the sum of points \n  f.obj <- data[[\"Points\"]]\n  \n  N <- nrow(data)\n  # define constraints\n  # 1st and 2nd constraints concern all x_i\n  # 3rd constraints is for cost constraint\n  # 4th is about cost constraint for top league\n  f.con <- matrix(c(rep(1, N),\n                    rep(1, N),\n                    data[[\"Cost\"]],\n                    data[[\"TopLeague\"]]),\n                  nrow = 4, byrow = TRUE)\n  \n  # Inequality signs for constraints\n  f.dir <- c(\"<=\",\n             \">=\",\n             \"<=\",\n             \"<=\")\n  \n  # Threshold values for constraints (rhs)\n  f.rhs <- c(35,\n             30,\n             225,\n             max_top_league)\n  \n  # Problem definition\n  linprog <- lp(direction = \"max\",\n                f.obj,\n                f.con,\n                f.dir, \n                f.rhs,\n                binary.vec = 1:length(f.obj))\n  \n  # We return as a result the dataframe's rows corresponding to\n  # riders in the best team possible\n  result <- data[as.logical(linprog$solution), ]\n  return(list(result))\n}\n\n\nAnd let’s iterate over the years.\n\n\nIteration on 2013 to 2022 period\n# we use purrr::map2_vec() to iterate simultaneously on the data\n# and on the max value for top league\ndata_nested <- data_riders |> nest(.by = Year)\nresults_all_years <- map2_vec(\n  data_nested$data, max_top_league,\n  .f = maximize_score) |> \n  setNames(2013:2022)\n\n\n\n\nBest teams for 2013 to 2022 period - Table display\ndf_results <- bind_rows(results_all_years, .id = \"Year\") |> \n  rename(Top = TopLeague)\nshared_results <- SharedData$new(df_results)\nbscols(widths = c(2L, 10L),\n       filter_select(id = \"year\", \"Year\", shared_results, ~Year, multiple = FALSE),\n       reactable(shared_results, \n                 pagination = TRUE,\n                 pageSizeOptions = 35,\n                 defaultPageSize = 35,\n                 compact = TRUE,\n                 defaultColDef = colDef(\n                   vAlign = \"center\",\n                   headerVAlign = \"bottom\",\n                   class = \"cell\",\n                   headerClass = \"header\"\n                 ),\n                 columns = list(\n                   Year = colDef(width = 75),\n                   Name = colDef(width = 200),\n                   Top = topleague_column(),\n                   Team = colDef(width = 60),\n                   Cost = colDef(width = 60)\n                 ))\n)\n\n\n\n\n\n\n\nYear\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLet’s compare how well human did compared to the best teams.\n\n\nHuman vs best team\ndata_teams |> \n  group_by(Year) |> \n  mutate(Rank = c(\"First\", \"Second\", \"Third\")) |> \n  select(Year, Rank, Points) |> \n  pivot_wider(names_from = Rank, values_from = Points) -> tmp\n\ndf_results |> \n  group_by(Year) |> \n  summarize(Score = sum(Points)) |> \n  left_join(tmp, by = \"Year\") |> \n  mutate(`Difference with best` = Score - First) |> \n  reactable()\n\n\n\n\n\n\n\n\n\nConclusion\nWhoever plays that kind of game is always full of regrets. Why didn’t I pick this rider instead of this one? Why did I trust him, again? The good news is, there are a lot of possible teams better than the best human player, so hope is still there for you !"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#collecting-data",
    "href": "posts/03-2023-velogames-knapsack/index.html#collecting-data",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Collecting data",
    "text": "Collecting data\nLet’s begin by grabbing some data for our experiment. The rivals manager website is quite old and is not necessarily at the state of the art, and there is no API available to perform the request. So let’s do a little bit of web scrapping. We’ll use rvest to do so. We’ll also use dplyr as utility package to manipulate data.frames, and purrr for functional oriented programming functions.\n\n\nCode\n# loading rvest, dplyr, purrr, tidyr\nlibrary(rvest)\nlibrary(dplyr)\nlibrary(purrr)\nlibrary(tidyr)\n# lpSolve for LP\nlibrary(lpSolve)\n# quarto for observable\nlibrary(quarto)\n\n\nFirst function to read the riders’ results:\n\n\nCode\n#' read results table from rivals manager website\n#' \n#' @param year Year of interest\nread_riders_results <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Classement&annee=\", year)\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays, -Place) |>\n    rename(Name = Nom, Cost = Valeurs)\n}\n\n\nSecond function to read the riders’ original cotations. It’s a bit redundant but riders who didn’t score any point have to be found in this table as they do not appear in the yearly results tables above (only riders with at least 1 point do).\n\n\nCode\n#' read values table from rivals manager website\n#' \n#' @param year Year of interest\nread_riders_values <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Cotation&annee=\", year)\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays) |>\n    rename(Name = Nom, Team = Equipe, Cost = Valeurs)\n}\n\n\nThird function is necessary to grab actual results from human players:\n\n\nCode\n#' read scores from human players\n#' \n#' @param year Year of interest\nread_team_scores <- function(year) {\n  url <- paste0(\"http://velo-club.com/historique.php?choix=Classement&annee=\",\n                year,\n                \"&lstClassement=Managers\")\n  read_html(url) |>\n    html_element(\"table\") |>\n    html_table() |>\n    select(-Pays, -Place) |>\n    rename(Name = Nom)\n}\n\n\nLet’s now request the data for the period 2013-2022 for which we have historical data. We’ll join the results and the values table to make sure we have all the riders available at the beginning of every season.\n\n\nCode\nmap(2013:2022, function(x) {\n  riders_results <- read_riders_results(x)\n  riders_values <- read_riders_values(x)\n  left_join(riders_values, riders_results, by = c(\"Name\", \"Cost\"))\n}) |> setNames(2013:2022) |> \n  bind_rows(.id = \"Year\") -> data_riders\nhead(data_riders)\n\n\n# A tibble: 6 × 5\n  Year  Name              Team   Cost Points\n  <chr> <chr>             <chr> <dbl>  <int>\n1 2013  Joaquin RODRIGUEZ KAT      28   1097\n2 2013  Alberto CONTADOR  STB      24    551\n3 2013  Philippe GILBERT  BMC      24    496\n4 2013  Peter SAGAN       CND      22   1219\n5 2013  Bradley WIGGINS   SKY      22    225\n6 2013  Vincenzo NIBALI   AST      21   1101\n\n\nLet’s make sure we flag properly the ‘top league’ for every year in the history. Sadly, it is hard to find valid info about who was in the top ligue in the past. I tried to collect all the infortion I could on the forum, but it’s not easy to find. I think I managed to find every member of the top league, but couldn’t find the maximum cost for top league riders you were able to pick for years 2013, and 2015 to 2019. There was no constraint at all in 2020. Since it seems the cotation strategy was the same for the 2013-2019 period, I’ll make the hypothesis that the limit for top league riders was identical to the one for the year 2014, i.e. 93.\nWe now have a single data.frame will all the scores for every rider over the 2013 to 2022 period, and the information about the top ligue and the constraints which apply to it."
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#human-performances",
    "href": "posts/03-2023-velogames-knapsack/index.html#human-performances",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Human performances",
    "text": "Human performances\nSimilarly, we can retrieve all the results for any player over the same period.\n\n\nCode\nmap(2013:2022, read_team_scores) |>\n  setNames(2013:2022) |> \n  bind_rows(.id = \"Year\") -> data_teams\nhead(data_teams)\n\n\n# A tibble: 6 × 3\n  Year  Name           Points\n  <chr> <chr>           <int>\n1 2013  Illios          10430\n2 2013  gironico        10396\n3 2013  Kurdtana        10371\n4 2013  ranou           10102\n5 2013  nosaudry        10004\n6 2013  JuanCancellara   9979\n\n\nLet’s compute the ratio score/credit for the best team every year:\n\n\nCode\ndata_teams |> \n  group_by(Year) |> \n  slice_max(Points) |> \n  mutate(ratio = Points/225)\n\n\n# A tibble: 10 × 4\n# Groups:   Year [10]\n   Year  Name                Points ratio\n   <chr> <chr>                <int> <dbl>\n 1 2013  Illios               10430  46.4\n 2 2014  Booze                10063  44.7\n 3 2015  brasileiro            9590  42.6\n 4 2016  fdehut               10064  44.7\n 5 2017  PokemonSchoolRumble  10268  45.6\n 6 2018  Benoch               10901  48.4\n 7 2019  John_GR              12802  56.9\n 8 2020  Maudie                9071  40.3\n 9 2021  catmapei             11264  50.1\n10 2022  guegoethe            12844  57.1\n\n\nObviously, 2020 is different from the other year. The Covid crisis has had an impact on the race schedule and fewer points were distributed, resulting in a lower final ratio. The years 2019 and 2022 have been the most rewarding seasons with close to 57 points by credit ratio."
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#best-team-oracle",
    "href": "posts/03-2023-velogames-knapsack/index.html#best-team-oracle",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Best team: Oracle",
    "text": "Best team: Oracle\nNow, let’s try to find what could have been the best team, the one we would have chosen if we were an oracle. We will use the year 2022 as the first example. One way to solve this problem is by using linear programming. The idea is to represent the problem as a value to be maximize will respecting the different constraints. One way to do it in R is to use the lpSolve package which is an interface to the free and open source solver lpSolve.\nWe can now specify our LP problem. We want to maximize the value of our team, i.e:\n\\[\n\\max \\sum_{i=1}^N x_i\\mathrm{Points}_i\n\\]\nwhere \\(N\\) is the number of riders in the game, \\(x_i\\) a binary variable (1 or 0) wether rider \\(i\\) is included in the team or not, and \\(\\mathrm{Points}_i\\) the total of points for rider \\(i\\) at the end of the season. We have to respect the following contraints :\n\\[\ns.t. \\sum_i x_i \\leq 35\n\\]\n\\[\n\\sum_i x_i \\geq 30\n\\]\n\\[\n\\sum_i x_i\\mathrm{Cost}_i \\leq 225\n\\]\nand\n\\[\n\\sum_i x_i\\mathrm{TopLeague}_i \\leq \\mathrm{MaxTopLeague}\n\\]\nwhere \\(Cost_i\\) is the cost of the rider \\(i\\), \\(TopLeague_i\\) indicates if the rider \\(i\\) is in the top league category and MaxTopLeague is a constant value for every year.\nLet try to compute the result for the year 2022. First, let’s add topLeague info for the 2022 data.\n\n\nCode\n# keep data for year 2022\ndata_2022 <- data_riders |> filter(Year == 2022)\n\n# add top league info\ndata_2022 <- data_2022 |> \n  mutate(TopLeague = case_when(\n    Name %in% top_league[[\"2022\"]] ~ Cost,\n    .default = 0L\n  ))\n\n\nNow, we can specify our LP problem.\n\n\nCode\n# Set coefficients of the objective function\n# we want to maximize the total number of points\nf.obj <- data_2022[[\"Points\"]]\n \n# Set matrix corresponding to coefficients of constraints by rows\n# We have 4 constraints:\n# 1. team must have 30 to 35 riders (2 constraints)\n# 2. overall cost must be <= to 225\n# 3. top league cost must be below 63\nN <- nrow(data_2022)\nf.con <- matrix(c(rep(1, N),\n                  rep(1, N),\n                  data_2022[[\"Cost\"]],\n                  data_2022[[\"TopLeague\"]]),\n                nrow = 4, byrow = TRUE)\n\n# Set unequality signs for constraints\nf.dir <- c(\"<=\",\n           \">=\",\n           \"<=\",\n           \"<=\")\n\n# Set right hand side coefficients (constraints threshold)\nf.rhs <- c(35,\n           30,\n           225,\n           63)\n\nlinprog <- lp(direction = \"max\",\n              f.obj,\n              f.con,\n              f.dir, \n              f.rhs,\n              binary.vec = 1:length(f.obj))\n\n\nLet’s take a look at the best team for 2022:\n\n\nCode\ni <- which(as.logical(linprog$solution))\nprint(data_2022[i, ], n = 35L)\n\n\n# A tibble: 35 × 6\n   Year  Name                Team   Cost Points TopLeague\n   <chr> <chr>               <chr> <dbl>  <int>     <dbl>\n 1 2022  Remco EVENEPOEL     QSA    20     1374        20\n 2 2022  Jonas VINGEGAARD    JBV    16      932         0\n 3 2022  Arnaud DEMARE       GFJ    12      763         0\n 4 2022  Stefan KUNG         GFJ    11.5    723         0\n 5 2022  Aleksander VLASOV   BOH    11.5    844         0\n 6 2022  Pello BILBAO        BRV     9.5    672         0\n 7 2022  Alexander KRISTOFF  IWG     9      875         0\n 8 2022  Warren BARGUIL      AKS     8.5    499         0\n 9 2022  Dylan TEUNS         BRV     8.5    536         0\n10 2022  Sergio HIGUITA      BOH     8      705         0\n11 2022  Valentin MADOUAS    GFJ     8      477         0\n12 2022  Mads PEDERSEN       TKS     8      747         0\n13 2022  Lorenzo ROTA        IWG     7      458         0\n14 2022  Jai HINDLEY         BOH     6.5    535         0\n15 2022  Daniel MARTINEZ     ING     6.5    662         0\n16 2022  Biniam GIRMAY HAILU IWG     5.5    621         0\n17 2022  Ivan GARCIA CORTINA MOV     5      382         0\n18 2022  Olav KOOIJ          JBV     4.5    407         0\n19 2022  Mattias SKJELMOSE   TKS     4.5    427         0\n20 2022  Ruben GUERREIRO     EFN     4      306         0\n21 2022  Matis LOUVEL        AKS     4      316         0\n22 2022  Louis MEINTJES      IWG     4      352         0\n23 2022  Domenico POZZOVIVO  IWG     4      319         0\n24 2022  Thymen ARENSMAN     DSM     3.5    424         0\n25 2022  Juan AYUSO          UAE     3.5    499         0\n26 2022  Quinten HERMANS     IWG     3.5    357         0\n27 2022  Carlos RODRIGUEZ    ING     3.5    599         0\n28 2022  Benjamin THOMAS     COF     3.5    341         0\n29 2022  Jan TRATNIK         BRV     3.5    269         0\n30 2022  Arnaud DE LIE       LTS     3      679         0\n31 2022  Andrea PICCOLO      GAZ     3      252         0\n32 2022  Magnus SHEFFIELD    ING     3      246         0\n33 2022  Dries VAN GESTEL    TOT     3      343         0\n34 2022  Alexis VUILLERMOZ   TOT     3      261         0\n35 2022  Axel ZINGLE         COF     3      344         0\n\n\nLet’s solve the problem for the whole period now. Let’s buil a maximize_score function to easily compute the scores for each year.\n\n\nCode\nmaximize_score <- function(data, max_top_league, top_league_riders) {\n  # flag top league riders\n  data <- data |> \n    mutate(TopLeague = case_when(\n      Name %in% top_league_riders ~ Cost,\n      .default = 0L\n    ))\n  # define obj function\n  f.obj <- data[[\"Points\"]]\n  \n  N <- nrow(data)\n  # define constraints\n  f.con <- matrix(c(rep(1, N),\n                    rep(1, N),\n                    data[[\"Cost\"]],\n                    data[[\"TopLeague\"]]),\n                  nrow = 4, byrow = TRUE)\n  \n  # Set unequality signs for constraints\n  f.dir <- c(\"<=\",\n             \">=\",\n             \"<=\",\n             \"<=\")\n  \n  # Set right hand side coefficients (constraints threshold)\n  f.rhs <- c(35,\n             30,\n             225,\n             max_top_league)\n  \n  linprog <- lp(direction = \"max\",\n                f.obj,\n                f.con,\n                f.dir, \n                f.rhs,\n                binary.vec = 1:length(f.obj))\n  \n  result <- data[as.logical(linprog$solution), ]\n  return(list(result))\n}\n\n\nAnd let’s iterate over the years:\n\n\nCode\ndata_nested <- data_riders |> nest(.by = Year)\nresults_all_years <- pmap_vec(\n  list(data_nested$data, max_top_league, top_league),\n  .f = maximize_score)\n\n\n\n2013201420152016201720182019202020212022\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 32 × 5\n   Name                    Team   Cost Points TopLeague\n   <chr>                   <chr> <dbl>  <int>     <dbl>\n 1 Peter SAGAN             CND    22     1219        22\n 2 Alejandro VALVERDE      MOV    21     1310        21\n 3 Chris FROOME            SKY    16     1118        16\n 4 Rui Alberto COSTA       MOV    14      762        14\n 5 Bauke MOLLEMA           RAB    13      718         0\n 6 Sylvain CHAVANEL        OPQ    11      651         0\n 7 Daniel MARTIN           GRM    10      545         0\n 8 Alexander KRISTOFF      KAT     9      620         0\n 9 Richie PORTE            SKY     7.5    651         0\n10 Nairo QUINTANA          MOV     7.5    696         0\n11 Carlos Alberto BETANCUR ALM     7      493         0\n12 Diego ULISSI            LAM     7      437         0\n13 Mauro SANTAMBROGIO      VFT     6      344         0\n14 Jan BAKELANTS           RNT     5.5    397         0\n15 Simon SPILAK            KAT     5.5    400         0\n16 Gerald CIOLEK           MTN     5      370         0\n17 Michal KWIATKOWSKI      OPQ     4.5    529         0\n18 Arthur VICHOT           FDJ     4.5    308         0\n19 Tom DUMOULIN            ARG     4      241         0\n20 Mathias FRANK           BMC     4      271         0\n21 Daniel NAVARRO          COF     4      228         0\n22 Zdenek STYBAR           OPQ     4      233         0\n23 Pieter WEENING          OGE     4      287         0\n24 Romain BARDET           ALM     3.5    303         0\n25 Daryl IMPEY             OGE     3.5    196         0\n26 Ion IZAGUIRRE           BCT     3.5    190         0\n27 Tom SLAGTER             RAB     3.5    237         0\n28 Bryan COQUARD           EUC     3      212         0\n29 Tanel KANGERT           AST     3      263         0\n30 Rafal MAJKA             STB     3      361         0\n31 Ivan SANTAROMITA        BMC     3      186         0\n32 Stijn VANDENBERGH       OPQ     3      182         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 33 × 5\n   Name                   Team   Cost Points TopLeague\n   <chr>                  <chr> <dbl>  <int>     <dbl>\n 1 Alejandro VALVERDE     MOV    28     1565        28\n 2 Alexander KRISTOFF     KAT    14      856         0\n 3 Michal KWIATKOWSKI     OPQ    13      862         0\n 4 Simon GERRANS          OGE    11      730         0\n 5 Arnaud DEMARE          FDJ    10.5    572         0\n 6 Nacer BOUHANNI         FDJ     9.5    519         0\n 7 Rafal MAJKA            SAX     9.5    503         0\n 8 Thibaut PINOT          FDJ     9.5    519         0\n 9 Jean-Christophe PERAUD ALM     8.5    607         0\n10 Romain BARDET          ALM     8      618         0\n11 Tony GALLOPIN          LBT     8      506         0\n12 Tom DUMOULIN           ARG     7      572         0\n13 Wilco KELDERMAN        BEL     7      490         0\n14 Sep VANMARCKE          BEL     6.5    540         0\n15 Jelle VANENDERT        LBT     6      352         0\n16 Michael MATTHEWS       OGE     5.5    472         0\n17 Davide REBELLIN        CCC     5.5    284         0\n18 Damiano CARUSO         CAN     5      281         0\n19 Ramunas NAVARDAUSKAS   GRM     5      402         0\n20 Fabio ARU              AST     4      527         0\n21 Sonny COLBRELLI        BCI     4      371         0\n22 Jens DEBUSSCHERE       LBT     4      257         0\n23 Juan Jose LOBATO       MOV     4      261         0\n24 Ben SWIFT              SKY     4      357         0\n25 Mauro FINETTO          NST     3.5    258         0\n26 Cyril GAUTIER          EUC     3.5    303         0\n27 Julian ARREDONDO       TFR     3      265         0\n28 Davide FORMOLO         CAN     3      215         0\n29 Moreno HOFLAND         BEL     3      164         0\n30 Peter KENNAUGH         SKY     3      186         0\n31 Tom VAN ASBROECK       TSV     3      350         0\n32 Tim WELLENS            LBT     3      302         0\n33 Adam YATES             OGE     3      235         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                 Team   Cost Points TopLeague\n   <chr>                <chr> <dbl>  <int>     <dbl>\n 1 Alexander KRISTOFF   KAT    20     1262        20\n 2 Greg VAN AVERMAET    BMC    18      896        18\n 3 Thibaut PINOT        FDJ    13.5    702         0\n 4 Fabio ARU            AST    12.5    768         0\n 5 Tony GALLOPIN        LTS    12.5    621         0\n 6 Michael MATTHEWS     OGE    11      638         0\n 7 Richie PORTE         SKY    11      580         0\n 8 Geraint THOMAS       SKY    10      529         0\n 9 Zdenek STYBAR        EQS     9      474         0\n10 Jan BAKELANTS        ALM     7.5    361         0\n11 Jurgen ROELANDTS     LTS     7.5    378         0\n12 Rohan DENNIS         BMC     6      352         0\n13 Julian ALAPHILIPPE   EQS     5.5    476         0\n14 Johan Esteban CHAVES OGE     5.5    418         0\n15 Ben HERMANS          BMC     5      264         0\n16 Danny VAN POPPEL     TFR     5      264         0\n17 Alexis VUILLERMOZ    ALM     5      280         0\n18 Steven KRUIJSWIJK    LNL     4      289         0\n19 Yves LAMPAERT        EQS     4      266         0\n20 Mikel LANDA          AST     4      402         0\n21 Kris BOECKMANS       LTS     3.5    211         0\n22 Fabio FELLINE        TFR     3.5    372         0\n23 Louis MEINTJES       MTN     3.5    229         0\n24 Maciej PATERSKI      CCC     3.5    214         0\n25 Diego ROSA           AST     3.5    260         0\n26 Kristian SBARAGLI    MTN     3.5    205         0\n27 Simon YATES          OGE     3.5    282         0\n28 Tiesj BENOOT         LTS     3      357         0\n29 Nicollo BONIFAZIO    LAM     3      228         0\n30 Bart DE CLERCQ       LTS     3      175         0\n31 Rasmus GULDHAMMER    CEP     3      193         0\n32 Nelson OLIVEIRA      LAM     3      165         0\n33 Edward THEUNS        TSV     3      363         0\n34 Rafael VALLS         LAM     3      194         0\n35 Ilnur ZAKARIN        KAT     3      305         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Peter SAGAN           TNK    28     1554        28\n 2 Greg VAN AVERMAET     BMC    22     1063        22\n 3 Edvald BOASSON HAGEN  DDD    11      569         0\n 4 Jhoan Esteban CHAVES  OGE    10.5    595         0\n 5 Giacomo NIZZOLO       TFR    10.5    690         0\n 6 Bryan COQUARD         DEN     9      566         0\n 7 Ion IZAGUIRRE         MOV     8.5    579         0\n 8 Diego ULISSI          LAM     8.5    675         0\n 9 Ilnur ZAKARIN         KAT     8      457         0\n10 Sonny COLBRELLI       BAR     7      509         0\n11 Bob JUNGELS           EQS     6      380         0\n12 Samuel DUMOULIN       ALM     5.5    298         0\n13 Enrico GASPAROTTO     WGG     5.5    324         0\n14 Tanel KANGERT         AST     5.5    304         0\n15 Giovanni VISCONTI     MOV     5.5    360         0\n16 Gianluca BRAMBILLA    EQS     5      433         0\n17 John Darwin ATAPUMA   BMC     4.5    303         0\n18 Jarlinson PANTANO     IAM     4.5    285         0\n19 Francesco GAVAZZI     THA     4      245         0\n20 Fernando GAVIRIA      EQS     4      385         0\n21 Dylan GROENEWEGEN     TLJ     4      456         0\n22 Pierre LATOUR         ALM     4      277         0\n23 Miguel Angel LOPEZ    AST     4      304         0\n24 Oliver NAESEN         IAM     4      284         0\n25 Sebastien REICHENBACH FDJ     4      260         0\n26 Petr VAKOC            EQS     4      313         0\n27 Dries DEVENYNS        IAM     3.5    221         0\n28 Michael VALGREN       TNK     3.5    248         0\n29 Alberto BETTIOL       CPT     3      247         0\n30 Sondre Holst ENGER    IAM     3      176         0\n31 Daniel MC LAY         FVC     3      183         0\n32 Gianni MOSCON         SKY     3      186         0\n33 Adrien PETIT          DEN     3      167         0\n34 Primoz ROGLIC         TLJ     3      167         0\n35 Davide VILLELLA       CPT     3      176         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name               Team   Cost Points TopLeague\n   <chr>              <chr> <dbl>  <int>     <dbl>\n 1 Tom DUMOULIN       TSG    16      833        16\n 2 Daniel MARTIN      QSF    13.5    735         0\n 3 Sonny COLBRELLI    BMT    12      632         0\n 4 Arnaud DEMARE      FDJ    12      695         0\n 5 Philippe GILBERT   QSF    11      719         0\n 6 Michal KWIATKOWSKI SKY    11      827         0\n 7 Tim WELLENS        LTS     9.5    552         0\n 8 Tiesj BENOOT       LTS     8.5    450         0\n 9 Mikel LANDA        SKY     8.5    593         0\n10 Domenico POZZOVIVO ALM     8.5    536         0\n11 Matteo TRENTIN     QSF     8.5    606         0\n12 Oliver NAESEN      ALM     7.5    487         0\n13 Michael ALBASINI   OBE     6.5    465         0\n14 Elia VIVIANI       SKY     6.5    686         0\n15 Gianni MOSCON      SKY     6      413         0\n16 Sam BENNETT        BOH     5.5    308         0\n17 Damiano CARUSO     BMC     5.5    314         0\n18 Nicolas ROCHE      BMC     5.5    309         0\n19 Jasper STUYVEN     TKS     5.5    514         0\n20 David DE LA CRUZ   QSF     4.5    272         0\n21 Nathan HAAS        DDD     4.5    276         0\n22 Primoz ROGLIC      TLJ     4.5    539         0\n23 Emanuel BUCHMANN   BOH     4      262         0\n24 Lilian CALMEJANE   DEN     4      301         0\n25 Michael WOODS      CDT     4      309         0\n26 Luke DURBRIDGE     OBE     3.5    245         0\n27 Patrick KONRAD     BOH     3.5    198         0\n28 Stefan KUNG        BMC     3.5    233         0\n29 Dylan TEUNS        BMC     3.5    403         0\n30 Soren ANDERSEN     TSG     3      244         0\n31 Egan BERNAL        AND     3      229         0\n32 Marco CANOLA       NIP     3      271         0\n33 Mattia CATTANEO    AND     3      216         0\n34 Jasper DE BUYST    LTS     3      235         0\n35 Marc SOLER         MOV     3      189         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Julian ALAPHILIPPE    QST    17      969        17\n 2 Elia VIVIANI          QST    14      915         0\n 3 Primoz ROGLIC         TLJ    12      766         0\n 4 Jasper STUYVEN        TFS    12      719         0\n 5 Geraint THOMAS        SKY    12      807         0\n 6 Simon YATES           ORS    11.5    926         0\n 7 Miguel Angel LOPEZ    AST    10      700         0\n 8 Jakob FUGLSANG        AST     9.5    588         0\n 9 Niki TERPSTRA         QST     9      521         0\n10 Steven KRUIJSWIJK     TLJ     8.5    495         0\n11 Egan BERNAL           SKY     7      541         0\n12 Michael VALGREN       AST     6.5    609         0\n13 Georges BENNETT       TLJ     6      430         0\n14 Patrick KONRAD        BOH     6      394         0\n15 Gorka IZAGIRRE        TBM     5.5    365         0\n16 Roman KREUZIGER       ORS     5.5    350         0\n17 Davide FORMOLO        BOH     5      376         0\n18 Marc SOLER            MOV     5      319         0\n19 Daryl IMPEY           ORS     4.5    395         0\n20 Enric MAS             QST     4.5    392         0\n21 Andrea PASQUALON      WGG     4.5    291         0\n22 Wout VAN AERT         VWC     4.5    309         0\n23 Christophe LAPORTE    COF     4      403         0\n24 Matej MOHORIC         TBM     4      401         0\n25 Rudy MOLARD           FDJ     4      286         0\n26 Jelle VANENDERT       LTS     4      261         0\n27 Pascal ACKERMANN      BOH     3.5    527         0\n28 Richard CARAPAZ       MOV     3.5    353         0\n29 Timothy DUPONT        WGG     3.5    321         0\n30 Eduard PRADES         EUS     3.5    290         0\n31 Alvaro HODEG          QST     3      216         0\n32 Hugo HOFSTETTER       COF     3      223         0\n33 Fabio JAKOBSEN        QST     3      294         0\n34 Valentin MADOUAS      FDJ     3      209         0\n35 Maximilian SCHACHMANN QST     3      313         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Primoz ROGLIC         TJB    19     1381        19\n 2 Egan BERNAL           SKY    14      973         0\n 3 Jakob FUGLSANG        AST    13.5   1158         0\n 4 Adam YATES            MTS    12      701         0\n 5 Pascal ACKERMANN      BOH    11.5    716         0\n 6 Matteo TRENTIN        MTS    11.5    859         0\n 7 Caleb EWAN            LTS    10.5    680         0\n 8 Emanuel BUCHMANN      BOH     9.5    606         0\n 9 Sam BENNETT           BOH     9      518         0\n10 Wout VAN AERT         TJB     8.5    543         0\n11 Maximilian SCHACHMANN BOH     8      581         0\n12 Guillaume MARTIN      WGG     7      430         0\n13 Stefan KUNG           GFC     6.5    410         0\n14 Alexey LUTSENKO       AST     6.5    612         0\n15 Jack HAIG             MTS     5.5    347         0\n16 Nils POLLIT           TKA     5.5    394         0\n17 Mike TEUNISSEN        TJB     5.5    560         0\n18 David GAUDU           GFC     4.5    445         0\n19 Mathieu VAN DER POEL  CRC     4.5    648         0\n20 Alberto BETTIOL       EFD     4      395         0\n21 Simon CLARKE          EFD     3.5    385         0\n22 Benoit COSNEFROY      ALM     3.5    281         0\n23 Remco EVENEPOEL       DQS     3.5    380         0\n24 Amund JANSEN          TJB     3.5    323         0\n25 Jasper PHILIPSEN      UAE     3.5    338         0\n26 Tadej POGACAR         UAE     3.5    656         0\n27 Anthony TURGIS        DEN     3.5    267         0\n28 Kasper ASGREEN        DQS     3      363         0\n29 Davide CIMOLAI        ICA     3      275         0\n30 Sergio HIGUITA        EFD     3      408         0\n31 Fausto MASNADA        ANS     3      245         0\n32 Pavel SIVAKOV         SKY     3      317         0\n33 Tom VAN ASBROECK      ICA     3      213         0\n34 Andrea VENDRAME       ANS     3      272         0\n35 Aleksander VLASOV     GAZ     3      212         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 31 × 5\n   Name                 Team   Cost Points TopLeague\n   <chr>                <chr> <dbl>  <int>     <dbl>\n 1 Primoz ROGLIC        TJV    29     1237        29\n 2 Mathieu VAN DER POEL COC    16      791        16\n 3 Tadej POGACAR        UAE    14.5    967         0\n 4 Wout VAN AERT        TJV    14      944         0\n 5 Richard CARAPAZ      INS    12.5    534         0\n 6 Guillaume MARTIN     COF    10.5    538         0\n 7 Richie PORTE         TKS     9.5    495         0\n 8 Wilco KELDERMAN      SUN     8.5    442         0\n 9 Giacomo NIZZOLO      NTT     7.5    451         0\n10 Mads PEDERSEN        TKS     7.5    350         0\n11 Florian SENECHAL     DQS     7.5    373         0\n12 Benoit COSNEFROY     ALM     7      348         0\n13 Tao GEOGHEGAN HART   INS     6.5    356         0\n14 Marc HIRSCHI         SUN     6.5    433         0\n15 Soren ANDERSEN       SUN     6      322         0\n16 Daniel MARTINEZ      EF1     6      309         0\n17 Aleksander VLASOV    AST     5.5    550         0\n18 Alex ARANBURU        AST     4.5    235         0\n19 Davide BALLERINI     DQS     4.5    218         0\n20 Filippo GANNA        INS     4.5    314         0\n21 Brandon MCNULTY      UAE     4      156         0\n22 Tim MERLIER          COC     4      223         0\n23 Jai HINDLEY          SUN     3.5    328         0\n24 Lennard KAMNA        BOH     3.5    210         0\n25 Sepp KUSS            TJV     3.5    220         0\n26 Dion SMITH           MTS     3.5    223         0\n27 Joao Pedro ALMEIDA   DQS     3      511         0\n28 Andrea BAGIOLI       DQS     3      169         0\n29 Josef CERNY          CCC     3      153         0\n30 Simon GESCHKE        CCC     3      226         0\n31 Gianni VERMEERSCH    COC     3      155         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                   Team   Cost Points TopLeague\n   <chr>                  <chr> <dbl>  <int>     <dbl>\n 1 Tadej POGACAR          UAE    26     1712        26\n 2 Wout VAN AERT          JBV    26     1527        26\n 3 Joao ALMEIDA           DQS    12.5    828         0\n 4 Sonny COLBRELLI        BRV    11.5    974         0\n 5 David GAUDU            GFJ    10.5    731         0\n 6 Giacomo NIZZOLO        TQA    10.5    648         0\n 7 Kasper ASGREEN         DQS     9      558         0\n 8 Jasper PHILIPSEN       APF     9      759         0\n 9 Matej MOHORIC          BRV     7.5    656         0\n10 Christophe LAPORTE     COF     7      565         0\n11 Tim MERLIER            APF     7      538         0\n12 Dylan VAN BAARLE       ING     5.5    471         0\n13 Danny VAN POPPEL       IWG     5.5    570         0\n14 Johan Esteban CHAVES   BEX     5      354         0\n15 Ben HERMANS            ISN     5      349         0\n16 Gianni VERMEERSCH      APF     4.5    358         0\n17 Ethan HAYTER           ING     4      540         0\n18 Ben O'CONNOR           AGC     4      395         0\n19 Thomas PIDCOCK         ING     4      497         0\n20 Alessandro COVI        UAE     3.5    317         0\n21 Gino MADER             BRV     3.5    270         0\n22 Aurelien PARET-PEINTRE AGC     3.5    331         0\n23 Neilson POWLESS        EFN     3.5    302         0\n24 Tosh VAN DER SANDE     LTS     3.5    273         0\n25 Jonas VINGEGAARD       JBV     3.5    623         0\n26 Franck BONNAMOUR       BBH     3      285         0\n27 Mark CAVENDISH         DQS     3      509         0\n28 Dorian GODON           AGC     3      297         0\n29 Markus HOELGAARD       UNO     3      245         0\n30 Mikkel HONORE          DQS     3      424         0\n31 Jordi MEEUS            BOH     3      308         0\n32 Ide SCHELLING          BOH     3      270         0\n33 Gonzalo SERRANO        MOV     3      237         0\n34 Connor SWIFT           AKS     3      241         0\n35 Rasmus TILLER          UNO     3      246         0\n\n\n\n\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                Team   Cost Points TopLeague\n   <chr>               <chr> <dbl>  <int>     <dbl>\n 1 Remco EVENEPOEL     QSA    20     1374        20\n 2 Jonas VINGEGAARD    JBV    16      932         0\n 3 Arnaud DEMARE       GFJ    12      763         0\n 4 Stefan KUNG         GFJ    11.5    723         0\n 5 Aleksander VLASOV   BOH    11.5    844         0\n 6 Pello BILBAO        BRV     9.5    672         0\n 7 Alexander KRISTOFF  IWG     9      875         0\n 8 Warren BARGUIL      AKS     8.5    499         0\n 9 Dylan TEUNS         BRV     8.5    536         0\n10 Sergio HIGUITA      BOH     8      705         0\n11 Valentin MADOUAS    GFJ     8      477         0\n12 Mads PEDERSEN       TKS     8      747         0\n13 Lorenzo ROTA        IWG     7      458         0\n14 Jai HINDLEY         BOH     6.5    535         0\n15 Daniel MARTINEZ     ING     6.5    662         0\n16 Biniam GIRMAY HAILU IWG     5.5    621         0\n17 Ivan GARCIA CORTINA MOV     5      382         0\n18 Olav KOOIJ          JBV     4.5    407         0\n19 Mattias SKJELMOSE   TKS     4.5    427         0\n20 Ruben GUERREIRO     EFN     4      306         0\n21 Matis LOUVEL        AKS     4      316         0\n22 Louis MEINTJES      IWG     4      352         0\n23 Domenico POZZOVIVO  IWG     4      319         0\n24 Thymen ARENSMAN     DSM     3.5    424         0\n25 Juan AYUSO          UAE     3.5    499         0\n26 Quinten HERMANS     IWG     3.5    357         0\n27 Carlos RODRIGUEZ    ING     3.5    599         0\n28 Benjamin THOMAS     COF     3.5    341         0\n29 Jan TRATNIK         BRV     3.5    269         0\n30 Arnaud DE LIE       LTS     3      679         0\n31 Andrea PICCOLO      GAZ     3      252         0\n32 Magnus SHEFFIELD    ING     3      246         0\n33 Dries VAN GESTEL    TOT     3      343         0\n34 Alexis VUILLERMOZ   TOT     3      261         0\n35 Axel ZINGLE         COF     3      344         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#conclusion",
    "href": "posts/03-2023-velogames-knapsack/index.html#conclusion",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Conclusion",
    "text": "Conclusion"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#session-info",
    "href": "posts/03-2023-velogames-knapsack/index.html#session-info",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Session Info",
    "text": "Session Info"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#knapsack-problem",
    "href": "posts/03-2023-velogames-knapsack/index.html#knapsack-problem",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Knapsack problem",
    "text": "Knapsack problem\nSo, to summarize, our problem can be formulated as follow:\n\nGiven a total number of credit of 225,\nAnd a constraint on the number of team members which has to be between 30 to 35\n\nHow can we maximize the number of points collected at the end of the year?\nI’m not very familiar with classical optimization problems, but it turns out that this is exactly the formulation of a Knapsack problem. The original formulation goes as follow:\n\nGiven a set of items, each with a weight and a value, determine which items to include in the collection so that the total weight is less than or equal to a given limit and the total value is as large as possible.\n\nReplace the collection by your squad, an item by a rider, the weight by the cotation of the rider, and the value by the total of points scored at the end of the season, and you almost got your Rivals’ challenge! We’ll have to add the two constraints over the ‘top league’ riders and the fact that the total number of riders is constrained too."
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2013",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2013",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2013”",
    "text": "Year “2013”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 32 × 5\n   Name                    Team   Cost Points TopLeague\n   <chr>                   <chr> <dbl>  <int>     <dbl>\n 1 Peter SAGAN             CND    22     1219        22\n 2 Alejandro VALVERDE      MOV    21     1310        21\n 3 Chris FROOME            SKY    16     1118        16\n 4 Rui Alberto COSTA       MOV    14      762        14\n 5 Bauke MOLLEMA           RAB    13      718         0\n 6 Sylvain CHAVANEL        OPQ    11      651         0\n 7 Daniel MARTIN           GRM    10      545         0\n 8 Alexander KRISTOFF      KAT     9      620         0\n 9 Richie PORTE            SKY     7.5    651         0\n10 Nairo QUINTANA          MOV     7.5    696         0\n11 Carlos Alberto BETANCUR ALM     7      493         0\n12 Diego ULISSI            LAM     7      437         0\n13 Mauro SANTAMBROGIO      VFT     6      344         0\n14 Jan BAKELANTS           RNT     5.5    397         0\n15 Simon SPILAK            KAT     5.5    400         0\n16 Gerald CIOLEK           MTN     5      370         0\n17 Michal KWIATKOWSKI      OPQ     4.5    529         0\n18 Arthur VICHOT           FDJ     4.5    308         0\n19 Tom DUMOULIN            ARG     4      241         0\n20 Mathias FRANK           BMC     4      271         0\n21 Daniel NAVARRO          COF     4      228         0\n22 Zdenek STYBAR           OPQ     4      233         0\n23 Pieter WEENING          OGE     4      287         0\n24 Romain BARDET           ALM     3.5    303         0\n25 Daryl IMPEY             OGE     3.5    196         0\n26 Ion IZAGUIRRE           BCT     3.5    190         0\n27 Tom SLAGTER             RAB     3.5    237         0\n28 Bryan COQUARD           EUC     3      212         0\n29 Tanel KANGERT           AST     3      263         0\n30 Rafal MAJKA             STB     3      361         0\n31 Ivan SANTAROMITA        BMC     3      186         0\n32 Stijn VANDENBERGH       OPQ     3      182         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2014",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2014",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2014”",
    "text": "Year “2014”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 33 × 5\n   Name                   Team   Cost Points TopLeague\n   <chr>                  <chr> <dbl>  <int>     <dbl>\n 1 Alejandro VALVERDE     MOV    28     1565        28\n 2 Alexander KRISTOFF     KAT    14      856         0\n 3 Michal KWIATKOWSKI     OPQ    13      862         0\n 4 Simon GERRANS          OGE    11      730         0\n 5 Arnaud DEMARE          FDJ    10.5    572         0\n 6 Nacer BOUHANNI         FDJ     9.5    519         0\n 7 Rafal MAJKA            SAX     9.5    503         0\n 8 Thibaut PINOT          FDJ     9.5    519         0\n 9 Jean-Christophe PERAUD ALM     8.5    607         0\n10 Romain BARDET          ALM     8      618         0\n11 Tony GALLOPIN          LBT     8      506         0\n12 Tom DUMOULIN           ARG     7      572         0\n13 Wilco KELDERMAN        BEL     7      490         0\n14 Sep VANMARCKE          BEL     6.5    540         0\n15 Jelle VANENDERT        LBT     6      352         0\n16 Michael MATTHEWS       OGE     5.5    472         0\n17 Davide REBELLIN        CCC     5.5    284         0\n18 Damiano CARUSO         CAN     5      281         0\n19 Ramunas NAVARDAUSKAS   GRM     5      402         0\n20 Fabio ARU              AST     4      527         0\n21 Sonny COLBRELLI        BCI     4      371         0\n22 Jens DEBUSSCHERE       LBT     4      257         0\n23 Juan Jose LOBATO       MOV     4      261         0\n24 Ben SWIFT              SKY     4      357         0\n25 Mauro FINETTO          NST     3.5    258         0\n26 Cyril GAUTIER          EUC     3.5    303         0\n27 Julian ARREDONDO       TFR     3      265         0\n28 Davide FORMOLO         CAN     3      215         0\n29 Moreno HOFLAND         BEL     3      164         0\n30 Peter KENNAUGH         SKY     3      186         0\n31 Tom VAN ASBROECK       TSV     3      350         0\n32 Tim WELLENS            LBT     3      302         0\n33 Adam YATES             OGE     3      235         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2015",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2015",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2015”",
    "text": "Year “2015”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                 Team   Cost Points TopLeague\n   <chr>                <chr> <dbl>  <int>     <dbl>\n 1 Alexander KRISTOFF   KAT    20     1262        20\n 2 Greg VAN AVERMAET    BMC    18      896        18\n 3 Thibaut PINOT        FDJ    13.5    702         0\n 4 Fabio ARU            AST    12.5    768         0\n 5 Tony GALLOPIN        LTS    12.5    621         0\n 6 Michael MATTHEWS     OGE    11      638         0\n 7 Richie PORTE         SKY    11      580         0\n 8 Geraint THOMAS       SKY    10      529         0\n 9 Zdenek STYBAR        EQS     9      474         0\n10 Jan BAKELANTS        ALM     7.5    361         0\n11 Jurgen ROELANDTS     LTS     7.5    378         0\n12 Rohan DENNIS         BMC     6      352         0\n13 Julian ALAPHILIPPE   EQS     5.5    476         0\n14 Johan Esteban CHAVES OGE     5.5    418         0\n15 Ben HERMANS          BMC     5      264         0\n16 Danny VAN POPPEL     TFR     5      264         0\n17 Alexis VUILLERMOZ    ALM     5      280         0\n18 Steven KRUIJSWIJK    LNL     4      289         0\n19 Yves LAMPAERT        EQS     4      266         0\n20 Mikel LANDA          AST     4      402         0\n21 Kris BOECKMANS       LTS     3.5    211         0\n22 Fabio FELLINE        TFR     3.5    372         0\n23 Louis MEINTJES       MTN     3.5    229         0\n24 Maciej PATERSKI      CCC     3.5    214         0\n25 Diego ROSA           AST     3.5    260         0\n26 Kristian SBARAGLI    MTN     3.5    205         0\n27 Simon YATES          OGE     3.5    282         0\n28 Tiesj BENOOT         LTS     3      357         0\n29 Nicollo BONIFAZIO    LAM     3      228         0\n30 Bart DE CLERCQ       LTS     3      175         0\n31 Rasmus GULDHAMMER    CEP     3      193         0\n32 Nelson OLIVEIRA      LAM     3      165         0\n33 Edward THEUNS        TSV     3      363         0\n34 Rafael VALLS         LAM     3      194         0\n35 Ilnur ZAKARIN        KAT     3      305         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2016",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2016",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2016”",
    "text": "Year “2016”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Peter SAGAN           TNK    28     1554        28\n 2 Greg VAN AVERMAET     BMC    22     1063        22\n 3 Edvald BOASSON HAGEN  DDD    11      569         0\n 4 Jhoan Esteban CHAVES  OGE    10.5    595         0\n 5 Giacomo NIZZOLO       TFR    10.5    690         0\n 6 Bryan COQUARD         DEN     9      566         0\n 7 Ion IZAGUIRRE         MOV     8.5    579         0\n 8 Diego ULISSI          LAM     8.5    675         0\n 9 Ilnur ZAKARIN         KAT     8      457         0\n10 Sonny COLBRELLI       BAR     7      509         0\n11 Bob JUNGELS           EQS     6      380         0\n12 Samuel DUMOULIN       ALM     5.5    298         0\n13 Enrico GASPAROTTO     WGG     5.5    324         0\n14 Tanel KANGERT         AST     5.5    304         0\n15 Giovanni VISCONTI     MOV     5.5    360         0\n16 Gianluca BRAMBILLA    EQS     5      433         0\n17 John Darwin ATAPUMA   BMC     4.5    303         0\n18 Jarlinson PANTANO     IAM     4.5    285         0\n19 Francesco GAVAZZI     THA     4      245         0\n20 Fernando GAVIRIA      EQS     4      385         0\n21 Dylan GROENEWEGEN     TLJ     4      456         0\n22 Pierre LATOUR         ALM     4      277         0\n23 Miguel Angel LOPEZ    AST     4      304         0\n24 Oliver NAESEN         IAM     4      284         0\n25 Sebastien REICHENBACH FDJ     4      260         0\n26 Petr VAKOC            EQS     4      313         0\n27 Dries DEVENYNS        IAM     3.5    221         0\n28 Michael VALGREN       TNK     3.5    248         0\n29 Alberto BETTIOL       CPT     3      247         0\n30 Sondre Holst ENGER    IAM     3      176         0\n31 Daniel MC LAY         FVC     3      183         0\n32 Gianni MOSCON         SKY     3      186         0\n33 Adrien PETIT          DEN     3      167         0\n34 Primoz ROGLIC         TLJ     3      167         0\n35 Davide VILLELLA       CPT     3      176         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2017",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2017",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2017”",
    "text": "Year “2017”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name               Team   Cost Points TopLeague\n   <chr>              <chr> <dbl>  <int>     <dbl>\n 1 Tom DUMOULIN       TSG    16      833        16\n 2 Daniel MARTIN      QSF    13.5    735         0\n 3 Sonny COLBRELLI    BMT    12      632         0\n 4 Arnaud DEMARE      FDJ    12      695         0\n 5 Philippe GILBERT   QSF    11      719         0\n 6 Michal KWIATKOWSKI SKY    11      827         0\n 7 Tim WELLENS        LTS     9.5    552         0\n 8 Tiesj BENOOT       LTS     8.5    450         0\n 9 Mikel LANDA        SKY     8.5    593         0\n10 Domenico POZZOVIVO ALM     8.5    536         0\n11 Matteo TRENTIN     QSF     8.5    606         0\n12 Oliver NAESEN      ALM     7.5    487         0\n13 Michael ALBASINI   OBE     6.5    465         0\n14 Elia VIVIANI       SKY     6.5    686         0\n15 Gianni MOSCON      SKY     6      413         0\n16 Sam BENNETT        BOH     5.5    308         0\n17 Damiano CARUSO     BMC     5.5    314         0\n18 Nicolas ROCHE      BMC     5.5    309         0\n19 Jasper STUYVEN     TKS     5.5    514         0\n20 David DE LA CRUZ   QSF     4.5    272         0\n21 Nathan HAAS        DDD     4.5    276         0\n22 Primoz ROGLIC      TLJ     4.5    539         0\n23 Emanuel BUCHMANN   BOH     4      262         0\n24 Lilian CALMEJANE   DEN     4      301         0\n25 Michael WOODS      CDT     4      309         0\n26 Luke DURBRIDGE     OBE     3.5    245         0\n27 Patrick KONRAD     BOH     3.5    198         0\n28 Stefan KUNG        BMC     3.5    233         0\n29 Dylan TEUNS        BMC     3.5    403         0\n30 Soren ANDERSEN     TSG     3      244         0\n31 Egan BERNAL        AND     3      229         0\n32 Marco CANOLA       NIP     3      271         0\n33 Mattia CATTANEO    AND     3      216         0\n34 Jasper DE BUYST    LTS     3      235         0\n35 Marc SOLER         MOV     3      189         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2018",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2018",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2018”",
    "text": "Year “2018”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Julian ALAPHILIPPE    QST    17      969        17\n 2 Elia VIVIANI          QST    14      915         0\n 3 Primoz ROGLIC         TLJ    12      766         0\n 4 Jasper STUYVEN        TFS    12      719         0\n 5 Geraint THOMAS        SKY    12      807         0\n 6 Simon YATES           ORS    11.5    926         0\n 7 Miguel Angel LOPEZ    AST    10      700         0\n 8 Jakob FUGLSANG        AST     9.5    588         0\n 9 Niki TERPSTRA         QST     9      521         0\n10 Steven KRUIJSWIJK     TLJ     8.5    495         0\n11 Egan BERNAL           SKY     7      541         0\n12 Michael VALGREN       AST     6.5    609         0\n13 Georges BENNETT       TLJ     6      430         0\n14 Patrick KONRAD        BOH     6      394         0\n15 Gorka IZAGIRRE        TBM     5.5    365         0\n16 Roman KREUZIGER       ORS     5.5    350         0\n17 Davide FORMOLO        BOH     5      376         0\n18 Marc SOLER            MOV     5      319         0\n19 Daryl IMPEY           ORS     4.5    395         0\n20 Enric MAS             QST     4.5    392         0\n21 Andrea PASQUALON      WGG     4.5    291         0\n22 Wout VAN AERT         VWC     4.5    309         0\n23 Christophe LAPORTE    COF     4      403         0\n24 Matej MOHORIC         TBM     4      401         0\n25 Rudy MOLARD           FDJ     4      286         0\n26 Jelle VANENDERT       LTS     4      261         0\n27 Pascal ACKERMANN      BOH     3.5    527         0\n28 Richard CARAPAZ       MOV     3.5    353         0\n29 Timothy DUPONT        WGG     3.5    321         0\n30 Eduard PRADES         EUS     3.5    290         0\n31 Alvaro HODEG          QST     3      216         0\n32 Hugo HOFSTETTER       COF     3      223         0\n33 Fabio JAKOBSEN        QST     3      294         0\n34 Valentin MADOUAS      FDJ     3      209         0\n35 Maximilian SCHACHMANN QST     3      313         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2019",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2019",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2019”",
    "text": "Year “2019”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                  Team   Cost Points TopLeague\n   <chr>                 <chr> <dbl>  <int>     <dbl>\n 1 Primoz ROGLIC         TJB    19     1381        19\n 2 Egan BERNAL           SKY    14      973         0\n 3 Jakob FUGLSANG        AST    13.5   1158         0\n 4 Adam YATES            MTS    12      701         0\n 5 Pascal ACKERMANN      BOH    11.5    716         0\n 6 Matteo TRENTIN        MTS    11.5    859         0\n 7 Caleb EWAN            LTS    10.5    680         0\n 8 Emanuel BUCHMANN      BOH     9.5    606         0\n 9 Sam BENNETT           BOH     9      518         0\n10 Wout VAN AERT         TJB     8.5    543         0\n11 Maximilian SCHACHMANN BOH     8      581         0\n12 Guillaume MARTIN      WGG     7      430         0\n13 Stefan KUNG           GFC     6.5    410         0\n14 Alexey LUTSENKO       AST     6.5    612         0\n15 Jack HAIG             MTS     5.5    347         0\n16 Nils POLLIT           TKA     5.5    394         0\n17 Mike TEUNISSEN        TJB     5.5    560         0\n18 David GAUDU           GFC     4.5    445         0\n19 Mathieu VAN DER POEL  CRC     4.5    648         0\n20 Alberto BETTIOL       EFD     4      395         0\n21 Simon CLARKE          EFD     3.5    385         0\n22 Benoit COSNEFROY      ALM     3.5    281         0\n23 Remco EVENEPOEL       DQS     3.5    380         0\n24 Amund JANSEN          TJB     3.5    323         0\n25 Jasper PHILIPSEN      UAE     3.5    338         0\n26 Tadej POGACAR         UAE     3.5    656         0\n27 Anthony TURGIS        DEN     3.5    267         0\n28 Kasper ASGREEN        DQS     3      363         0\n29 Davide CIMOLAI        ICA     3      275         0\n30 Sergio HIGUITA        EFD     3      408         0\n31 Fausto MASNADA        ANS     3      245         0\n32 Pavel SIVAKOV         SKY     3      317         0\n33 Tom VAN ASBROECK      ICA     3      213         0\n34 Andrea VENDRAME       ANS     3      272         0\n35 Aleksander VLASOV     GAZ     3      212         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2020",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2020",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2020”",
    "text": "Year “2020”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 31 × 5\n   Name                 Team   Cost Points TopLeague\n   <chr>                <chr> <dbl>  <int>     <dbl>\n 1 Primoz ROGLIC        TJV    29     1237        29\n 2 Mathieu VAN DER POEL COC    16      791        16\n 3 Tadej POGACAR        UAE    14.5    967         0\n 4 Wout VAN AERT        TJV    14      944         0\n 5 Richard CARAPAZ      INS    12.5    534         0\n 6 Guillaume MARTIN     COF    10.5    538         0\n 7 Richie PORTE         TKS     9.5    495         0\n 8 Wilco KELDERMAN      SUN     8.5    442         0\n 9 Giacomo NIZZOLO      NTT     7.5    451         0\n10 Mads PEDERSEN        TKS     7.5    350         0\n11 Florian SENECHAL     DQS     7.5    373         0\n12 Benoit COSNEFROY     ALM     7      348         0\n13 Tao GEOGHEGAN HART   INS     6.5    356         0\n14 Marc HIRSCHI         SUN     6.5    433         0\n15 Soren ANDERSEN       SUN     6      322         0\n16 Daniel MARTINEZ      EF1     6      309         0\n17 Aleksander VLASOV    AST     5.5    550         0\n18 Alex ARANBURU        AST     4.5    235         0\n19 Davide BALLERINI     DQS     4.5    218         0\n20 Filippo GANNA        INS     4.5    314         0\n21 Brandon MCNULTY      UAE     4      156         0\n22 Tim MERLIER          COC     4      223         0\n23 Jai HINDLEY          SUN     3.5    328         0\n24 Lennard KAMNA        BOH     3.5    210         0\n25 Sepp KUSS            TJV     3.5    220         0\n26 Dion SMITH           MTS     3.5    223         0\n27 Joao Pedro ALMEIDA   DQS     3      511         0\n28 Andrea BAGIOLI       DQS     3      169         0\n29 Josef CERNY          CCC     3      153         0\n30 Simon GESCHKE        CCC     3      226         0\n31 Gianni VERMEERSCH    COC     3      155         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2021",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2021",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2021”",
    "text": "Year “2021”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                   Team   Cost Points TopLeague\n   <chr>                  <chr> <dbl>  <int>     <dbl>\n 1 Tadej POGACAR          UAE    26     1712        26\n 2 Wout VAN AERT          JBV    26     1527        26\n 3 Joao ALMEIDA           DQS    12.5    828         0\n 4 Sonny COLBRELLI        BRV    11.5    974         0\n 5 David GAUDU            GFJ    10.5    731         0\n 6 Giacomo NIZZOLO        TQA    10.5    648         0\n 7 Kasper ASGREEN         DQS     9      558         0\n 8 Jasper PHILIPSEN       APF     9      759         0\n 9 Matej MOHORIC          BRV     7.5    656         0\n10 Christophe LAPORTE     COF     7      565         0\n11 Tim MERLIER            APF     7      538         0\n12 Dylan VAN BAARLE       ING     5.5    471         0\n13 Danny VAN POPPEL       IWG     5.5    570         0\n14 Johan Esteban CHAVES   BEX     5      354         0\n15 Ben HERMANS            ISN     5      349         0\n16 Gianni VERMEERSCH      APF     4.5    358         0\n17 Ethan HAYTER           ING     4      540         0\n18 Ben O'CONNOR           AGC     4      395         0\n19 Thomas PIDCOCK         ING     4      497         0\n20 Alessandro COVI        UAE     3.5    317         0\n21 Gino MADER             BRV     3.5    270         0\n22 Aurelien PARET-PEINTRE AGC     3.5    331         0\n23 Neilson POWLESS        EFN     3.5    302         0\n24 Tosh VAN DER SANDE     LTS     3.5    273         0\n25 Jonas VINGEGAARD       JBV     3.5    623         0\n26 Franck BONNAMOUR       BBH     3      285         0\n27 Mark CAVENDISH         DQS     3      509         0\n28 Dorian GODON           AGC     3      297         0\n29 Markus HOELGAARD       UNO     3      245         0\n30 Mikkel HONORE          DQS     3      424         0\n31 Jordi MEEUS            BOH     3      308         0\n32 Ide SCHELLING          BOH     3      270         0\n33 Gonzalo SERRANO        MOV     3      237         0\n34 Connor SWIFT           AKS     3      241         0\n35 Rasmus TILLER          UNO     3      246         0"
  },
  {
    "objectID": "posts/03-2023-velogames-knapsack/index.html#year-2022",
    "href": "posts/03-2023-velogames-knapsack/index.html#year-2022",
    "title": "What was the best Rivals manager team possible? A knapsack problem.",
    "section": "Year “2022”",
    "text": "Year “2022”\n\n\nCode\nprint(results_all_years[[x]], n = 35L)\n\n\n# A tibble: 35 × 5\n   Name                Team   Cost Points TopLeague\n   <chr>               <chr> <dbl>  <int>     <dbl>\n 1 Remco EVENEPOEL     QSA    20     1374        20\n 2 Jonas VINGEGAARD    JBV    16      932         0\n 3 Arnaud DEMARE       GFJ    12      763         0\n 4 Stefan KUNG         GFJ    11.5    723         0\n 5 Aleksander VLASOV   BOH    11.5    844         0\n 6 Pello BILBAO        BRV     9.5    672         0\n 7 Alexander KRISTOFF  IWG     9      875         0\n 8 Warren BARGUIL      AKS     8.5    499         0\n 9 Dylan TEUNS         BRV     8.5    536         0\n10 Sergio HIGUITA      BOH     8      705         0\n11 Valentin MADOUAS    GFJ     8      477         0\n12 Mads PEDERSEN       TKS     8      747         0\n13 Lorenzo ROTA        IWG     7      458         0\n14 Jai HINDLEY         BOH     6.5    535         0\n15 Daniel MARTINEZ     ING     6.5    662         0\n16 Biniam GIRMAY HAILU IWG     5.5    621         0\n17 Ivan GARCIA CORTINA MOV     5      382         0\n18 Olav KOOIJ          JBV     4.5    407         0\n19 Mattias SKJELMOSE   TKS     4.5    427         0\n20 Ruben GUERREIRO     EFN     4      306         0\n21 Matis LOUVEL        AKS     4      316         0\n22 Louis MEINTJES      IWG     4      352         0\n23 Domenico POZZOVIVO  IWG     4      319         0\n24 Thymen ARENSMAN     DSM     3.5    424         0\n25 Juan AYUSO          UAE     3.5    499         0\n26 Quinten HERMANS     IWG     3.5    357         0\n27 Carlos RODRIGUEZ    ING     3.5    599         0\n28 Benjamin THOMAS     COF     3.5    341         0\n29 Jan TRATNIK         BRV     3.5    269         0\n30 Arnaud DE LIE       LTS     3      679         0\n31 Andrea PICCOLO      GAZ     3      252         0\n32 Magnus SHEFFIELD    ING     3      246         0\n33 Dries VAN GESTEL    TOT     3      343         0\n34 Alexis VUILLERMOZ   TOT     3      261         0\n35 Axel ZINGLE         COF     3      344         0"
  },
  {
    "objectID": "posts/test-toc/index.html",
    "href": "posts/test-toc/index.html",
    "title": "TOC TEST",
    "section": "",
    "text": "Where does it come from? Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  },
  {
    "objectID": "posts/test-toc/index.html#level-2",
    "href": "posts/test-toc/index.html#level-2",
    "title": "TOC TEST",
    "section": "Level 2",
    "text": "Level 2\nWhere does it come from? Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of “de Finibus Bonorum et Malorum” (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, “Lorem ipsum dolor sit amet..”, comes from a line in section 1.10.32.\nThe standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from “de Finibus Bonorum et Malorum” by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham."
  }
]